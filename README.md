# キーの定義を行うには

KeyboardConfigurator_core.exeと同じフォルダ内にある「**config.conf**」をメモ帳やテキストエディタで開いて編集する





# キーの名前

### [ここにあります](https://github.com/UMAGODi/KeyboardConfigurator_Core/blob/main/manual/%E3%82%AD%E3%83%BC%E3%83%AA%E3%82%B9%E3%83%88.pdf)



# コメント

コメントとは構文を見やすくするための、実際のプログラムの動作に影響を与えない文のこと



行頭また定義の後に「**//**」を記述することでその行はコメント行となる。

#### 例

「// この行はコメントです」



# プロファイル

プロファイルとはキーの定義の塊であり、各キーの定義はこのプロファイルごとに登録される。<br>プロファイルにはアプリケーションを関連付けすることができ、アプリを切り替えると関連付けされているプロファイルが自動で選択される。

例えば、ブラウザ用のプロファイルでは簡単にタブを切り替えるキーマップを登録しておき、<br>ゲーム用のプロファイルではWindowsキーを無効化したり…などと工夫できる



## プロファイルの定義

プロファイルを定義するには、行に「**<プロファイル名>**」と記述する。<br>以降の記述内容は、新しくプロファイルが定義されるまで、現在のプロファイルに関連付けされて登録される。



## 特別なプロファイル

2種類の特別なプロファイルがある。

### ・Default

Defaultプロファイルは、今使用しているアプリケーションに関連付けされているプロファイルが見つからなかった場合の<br>デフォルトのプロファイルである。すなわち、プロファイルに関連付けされていないアプリケーション使用中はすべてこの<br>プロファイルのキー定義が使用されることになる。



### ・Global

Globalプロファイルは、現在のプロファイルに定義されているキー定義が見つからなかった場合に、参照されるプロファイルである。<br>例えば現在「ゲーム」プロファイルが選択されているがそこにはWindowsキーに関するキー定義が無く、Globalプロファイルでは<br>定義されている場合は、そちらが使用される。



## プロファイルをアプリケーションに関連付ける

プロファイルをアプリケーションに関連付けるには、**プロファイルを定義したあとに**「**@exe("○○○.exe")**」か「**@title("×××")**」と記述する。



@exe("○○○.exe") は現在使用しているアプリケーションの実行ファイル名がこれに一致した場合にこのプロファイルが選択される。<br>例えば、エクスプローラーにプロファイルを関連付けるには「@exe("explorer.exe")」と記述する。

@title("×××")は現在使用しているアプリケーションのタイトルがこれに**完全一致**した場合にこのプロファイルが選択される。<br>例えば、「メモ帳」というタイトルのアプリケーションをプロファイルを関連付けるには「@title("メモ帳")」と記述する。



アプリケーションの関連付けは、カンマで区切って複数登録できる。<br>例えば、「エクスプローラー または Chrome または『メモ帳』というタイトルのアプリケーションにプロファイルを関連付ける」には<br>「@exe("explorer.exe"), @exe("chrome"), @title("メモ帳")」と記述する。



## プロファイルをインポートする

別のプロファイルのキー定義を今のプロファイルにインポートすることができる。これにより、複数のプロファイルで使うキー定義を<br>1回の記述で使いまわしたりできる。



プロファイルをインポートするには**プロファイルを定義したあとに**「**@import("インポート元のプロファイル名")**」と記述する。

### 注意点

* インポート元のプロファイルは**現在のプロファイルよりも先に定義**されている必要がある
* インポートの記述はキー定義より先に記述する必要がある。（すでに現在のプロファイルで定義しているキー定義は**破棄される**）



# キー定義

キー定義は（元のキー）-->（新しい機能）で行う。

詳細は下記



### 修飾キー

| +    | Shift            |
| ---- | ---------------- |
| ^    | Control          |
| !    | Alt              |
| #    | Win              |
| $    | ソロ（詳細下記） |




### ソロキーについて

ソロキーとは修飾キー（Ctrl、Shift、Alt、Win）が一切押されていないときのみを指定する。<br>例えば、ソロキーを指定せずに「A」のみで記述した場合、「Ctrl+A」や「Shift+A」などにも反応する。<br>しかし、ソロキーを指定して「$A」と記述した場合、「Ctrl+A」や「Shift+A」などには反応しない。

#### 例

* 「^S」 ・・・ Ctrl+S
* 「#+B」 ・・・ Win+Shift+S
* 「$C」 ・・・ C 単体押しのみ





# 機能

現在使用できる機能は次のとおり

* 無効化

* リマップ

* コマンド実行

  


## 無効化
キーを無効化する。記述方法は「**キー --> disable**」または「**キー --> 0**」

#### 例

* 「A-->disable」・・・キーボードの「A」を無効化

* 「^B-->0」・・・「Ctrl+B」を無効化する。その他の「B」単体押しや「Shift+B」などは無効化されない

* 「$C-->disable」・・・「C」を単体で押したときのみ無効化する。「Ctrl+C」や「Shift+C」などは無効化されない

  


## リマップ
キーを別のキーに置き換える。記述方法は「**元のキー --> 新しいキー（修飾キー指定可能）**」

元のキーにのみ、ソロキー修飾子($)を指定可能

#### 例

* 「A-->B」・・・「A」のキーを押すと「B」を押したことになる。「Ctrl+A」を押したときは「Ctrl+B」となる

* 「^C-->^+D」・・・「Ctrl+C」を押すと「Ctrl+Shift+D」を押したことになる

* 「$E-->F」・・・修飾キーを押さずに「E」を押すと「F」を押したことになる。「Ctr+E」や「Shift＋E」を押したときはそのまま入力される

  


## コマンド実行
コマンドを実行する。実行可能なコマンドは、コマンドプロンプトや「ファイル名を実行」で実行可能なもの。

記述方法は「**キー --> run("コマンド")**」

#### 例

* 「#C-->run("calc.exe")」・・・「Win+C」で電卓を起動





# 例

```
// + Shift
// ^ Control
// ! Alt
// # Windows
// $ Solo

<Global>
#WHEELUP-->VOLUME_UP //Win+ホイール上で音量アップ
#WHEELDOWN-->VOLUME_DOWN //Win+ホイール下で音量ダウン

<ユーティリティ>
#C-->run("calc.exe")

<Default>
@import("ユーティリティ")
INSERT-->disable

<ブラウザ>
@import("ユーティリティ")
@exe("Chrome.exe"), @exe("msedge.exe")
^WHEELUP-->^TAB //次のタブ
^WHEELDOWN-->^+TAB //前のタブ

<ゲーム>
@exe("apex.exe")
LWIN-->disable
```

